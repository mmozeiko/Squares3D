<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from enet.bespin.org/group__peer.html by HTTrack Website Copier/3.x [XR&CO'2006], Wed, 28 Jun 2006 08:32:17 GMT -->
<head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>enet: ENet peer functions</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.2 -->
<div class="qindex"><a class="qindex" href="index-2.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ENet peer functions</h1>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga0">enet_peer_throttle_configure</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a2">enet_uint32</a> interval, <a class="el" href="types_8h.html#a2">enet_uint32</a> acceleration, <a class="el" href="types_8h.html#a2">enet_uint32</a> deceleration)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures throttle parameter for a peer.  <a href="#ga0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga1" doxytag="peer::enet_peer_throttle"></a>
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>enet_peer_throttle</b> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a2">enet_uint32</a> rtt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga2">enet_peer_send</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a0">enet_uint8</a> channelID, <a class="el" href="struct__ENetPacket.html">ENetPacket</a> *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Queues a packet to be sent.  <a href="#ga2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__ENetPacket.html">ENetPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga3">enet_peer_receive</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a0">enet_uint8</a> channelID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempts to dequeue any incoming queued packet.  <a href="#ga3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga6" doxytag="peer::enet_peer_reset_queues"></a>
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>enet_peer_reset_queues</b> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga7">enet_peer_reset</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forcefully disconnects a peer.  <a href="#ga7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga8">enet_peer_ping</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends a ping request to a peer.  <a href="#ga8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga9">enet_peer_disconnect_now</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a2">enet_uint32</a> data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Force an immediate disconnection from a peer.  <a href="#ga9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__peer.html#ga10">enet_peer_disconnect</a> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, <a class="el" href="types_8h.html#a2">enet_uint32</a> data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Request a disconnection from a peer.  <a href="#ga10"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga11" doxytag="peer::enet_peer_queue_acknowledgement"></a>
ENetAcknowledgement *&nbsp;</td><td class="memItemRight" valign="bottom"><b>enet_peer_queue_acknowledgement</b> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, const ENetProtocol *command, <a class="el" href="types_8h.html#a2">enet_uint32</a> sentTime)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga12" doxytag="peer::enet_peer_queue_outgoing_command"></a>
ENetOutgoingCommand *&nbsp;</td><td class="memItemRight" valign="bottom"><b>enet_peer_queue_outgoing_command</b> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, const ENetProtocol *command, <a class="el" href="struct__ENetPacket.html">ENetPacket</a> *packet, <a class="el" href="types_8h.html#a2">enet_uint32</a> offset, <a class="el" href="types_8h.html#a1">enet_uint16</a> length)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ga13" doxytag="peer::enet_peer_queue_incoming_command"></a>
ENetIncomingCommand *&nbsp;</td><td class="memItemRight" valign="bottom"><b>enet_peer_queue_incoming_command</b> (<a class="el" href="struct__ENetPeer.html">ENetPeer</a> *peer, const ENetProtocol *command, <a class="el" href="struct__ENetPacket.html">ENetPacket</a> *packet, <a class="el" href="types_8h.html#a2">enet_uint32</a> fragmentCount)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga10" doxytag="peer.c::enet_peer_disconnect"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enet_peer_disconnect           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a2">enet_uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>peer to request a disconnection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>data describing the disconnection </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>An ENET_EVENT_DISCONNECT event will be generated by <a class="el" href="group__host.html#ga7">enet_host_service()</a> once the disconnection is complete. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="peer.c::enet_peer_disconnect_now"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enet_peer_disconnect_now           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a2">enet_uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>data</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>peer to disconnect </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>data describing the disconnection </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>No ENET_EVENT_DISCONNECT event will be generated. The foreign peer is not guarenteed to receive the disconnect notification, and is reset immediately upon return from this function. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="peer.c::enet_peer_ping"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enet_peer_ping           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>peer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>destination for the ping request </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>ping requests factor into the mean round trip time as designated by the roundTripTime field in the ENetPeer structure. Enet automatically pings all connected peers at regular intervals, however, this function may be called to ensure more frequent ping requests. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="peer.c::enet_peer_receive"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPacket.html">ENetPacket</a>* enet_peer_receive           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a0">enet_uint8</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>channelID</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>peer to dequeue packets from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channelID</em>&nbsp;</td><td>channel on which to receive </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>a pointer to the packet, or NULL if there are no available incoming queued packets </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="peer.c::enet_peer_reset"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enet_peer_reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>peer</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>peer to forcefully disconnect </td></tr>
  </table>
</dl>
<dl compact><dt><b>Remarks:</b></dt><dd>The foreign host represented by the peer is not notified of the disconnection and will timeout on its connection to the local host. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="peer.c::enet_peer_send"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int enet_peer_send           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a0">enet_uint8</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>channelID</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="struct__ENetPacket.html">ENetPacket</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>packet</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>destination for the packet </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>channelID</em>&nbsp;</td><td>channel on which to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>packet to send </td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>&lt;</em>&nbsp;</td><td>0 on failure </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="peer.c::enet_peer_throttle_configure"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void enet_peer_throttle_configure           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="struct__ENetPeer.html">ENetPeer</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a2">enet_uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>interval</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a2">enet_uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>acceleration</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap><a class="el" href="types_8h.html#a2">enet_uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>deceleration</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Unreliable packets are dropped by ENet in response to the varying conditions of the Internet connection to the peer. The throttle represents a probability that an unreliable packet should not be dropped and thus sent by ENet to the peer. The lowest mean round trip time from the sending of a reliable packet to the receipt of its acknowledgement is measured over an amount of time specified by the interval parameter in milliseconds. If a measured round trip time happens to be significantly less than the mean round trip time measured over the interval, then the throttle probability is increased to allow more traffic by an amount specified in the acceleration parameter, which is a ratio to the ENET_PEER_PACKET_THROTTLE_SCALE constant. If a measured round trip time happens to be significantly greater than the mean round trip time measured over the interval, then the throttle probability is decreased to limit traffic by an amount specified in the deceleration parameter, which is a ratio to the ENET_PEER_PACKET_THROTTLE_SCALE constant. When the throttle has a value of ENET_PEER_PACKET_THROTTLE_SCALE, on unreliable packets are dropped by ENet, and so 100% of all unreliable packets will be sent. When the throttle has a value of 0, all unreliable packets are dropped by ENet, and so 0% of all unreliable packets will be sent. Intermediate values for the throttle represent intermediate probabilities between 0% and 100% of unreliable packets being sent. The bandwidth limits of the local and foreign hosts are taken into account to determine a sensible limit for the throttle probability above which it should not raise even in the best of conditions.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>peer</em>&nbsp;</td><td>peer to configure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>interval</em>&nbsp;</td><td>interval, in milliseconds, over which to measure lowest mean RTT; the default value is ENET_PEER_PACKET_THROTTLE_INTERVAL. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acceleration</em>&nbsp;</td><td>rate at which to increase the throttle probability as mean RTT declines </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>deceleration</em>&nbsp;</td><td>rate at which to decrease the throttle probability as mean RTT increases </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Tue Mar 14 16:07:35 2006 for enet by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.2 </small></address>
</body>

<!-- Mirrored from enet.bespin.org/group__peer.html by HTTrack Website Copier/3.x [XR&CO'2006], Wed, 28 Jun 2006 08:32:17 GMT -->
</html>
